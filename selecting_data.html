<!DOCTYPE html>
<html lang="en">
    
<head>
  <title>The not-so-scary guide to R.</title>
    <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css2?family=Cabin&family=Roboto+Condensed:ital@1&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="fonts/icomoon/style.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="icon" href="images/favicon.ico">
        <link rel="stylesheet" href="/styles/ocean.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">
                              
<div class="site-wrap">
  <div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
      <div class="site-mobile-menu-close mt-3">
        <span class="icon-close2 js-menu-toggle"></span>
      </div>
    </div>
  <div class="site-mobile-menu-body"></div>
</div>
                                          
<div class="header-top">
<div class="container">
<div class="row align-items-center">
<div class="col-12 col-lg-6 d-flex">
                                                  
<a href="home.html" class="site-logo">The not-so-scary guide to R.</a>
<img src="images/title_logo.png" alt="Image" class="logo-icon">
<a href="#" class="ml-auto d-inline-block d-lg-none site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a>
</div>
<div class="col-12 col-lg-6 ml-auto d-flex">
<div class="ml-md-auto top-social d-none d-lg-inline-block">
<a href="https://github.com/adajam89" class="d-inline-block p-3"><span class="icon-github"></span></a>
<a href="https://www.flickr.com/photos/151552926@N03/" class="d-inline-block p-3"><span class="icon-flickr"></span></a>
<a href="https://twitter.com/JamieAdams_Psy" class="d-inline-block p-3"><span class="icon-twitter"></span></a>
<a href="https://www.instagram.com/jamie_adams89/" class="d-inline-block p-3"><span class="icon-instagram"></span></a>
 </div>
</div>
<div class="col-6 d-block d-lg-none text-right">
</div>
</div>
</div>
                                                      
                                                      
<div class="site-navbar py-2 js-sticky-header site-navbar-target d-none pl-0 d-lg-block" role="banner">
                                                      
<div class="container">
<div class="d-flex align-items-center">
                                                      
<div class="mr-auto">
<nav class="site-navigation position-relative text-right" role="navigation">
<ul class="site-menu main-menu js-clone-nav mr-auto d-none pl-0 d-lg-block">

<li><a href="home.html" class="nav-link text-left">Home</a></li>
<li><a href="get_started.html" class="nav-link text-left">Get Started</a></li>
<li><a href="guides.html" class="nav-link text-left">Guides</a></li>
<li><a href="articles.html" class="nav-link text-left">Articles</a></li>     
<li><a href="about.html" class="nav-link text-left">About</a></li>
 
</ul></nav></div></div></div></div></div>


<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--Title and image----------------------------------------------------> 
<!--------------------------------------------------------------------->
<!--------------------------------------------------------------------->                     
<div class="site-section">
<div class="container">
<div class="row">
<div class="col-lg-8 single-content">
<p class="mb-5"><img src="images/selecting_data_big.jpg" alt="Image" class="img-fluid"></p>  
<h1 class="mb-4">Selecting data.</h1>
<div class="post-meta d-flex mb-5">
<div class="bio-pic mr-3"><img src="images/profile_thumb.jpg" alt="Image" class="img-fluidid"></div>
<div class="vcard"><span class="d-block"><a href="about.html">Jamie Adams</a> in <a href="guides.html">Guides</a></span>
<span class="date-read">August 18<span class="mx-1">&bullet;</span>10-min read.<span class="icon-star2"></span></span><br>


<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--Like / dislike button----------------------------------------------> 
<!--------------------------------------------------------------------->
<!---------------------------------------------------------------------> 
<span class="likebtn-wrapper" data-theme="custom" data-icon_l="arr15-u" data-icon_d="arr15-d" data-icon_l_c="#b4b4b4" data-icon_d_c="#b4b4b4" data-label_c="#b4b4b4" data-label_c_v="#b4b4b4" data-counter_l_c="#b4b4b4" data-counter_d_c="#b4b4b4" data-ef_voting="grow" data-white_label="true" data-identifier="item_1" data-show_like_label="false" data-counter_frmt="comma" data-counter_zero_show="true" data-popup_disabled="true" data-loader_show="true" data-i18n_like_tooltip="Like" data-i18n_dislike_tooltip="Dislike"></span>
<script>(function(d,e,s){if(d.getElementById("likebtn_wjs"))return;a=d.createElement(e);m=d.getElementsByTagName(e)[0];a.async=1;a.id="likebtn_wjs";a.src=s;m.parentNode.insertBefore(a, m)})(document,"script","//w.likebtn.com/js/w/widget.js");</script>
</div></div>


<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--Content------------------------------------------------------------> 
<!--------------------------------------------------------------------->
<!--------------------------------------------------------------------->                                
<p>There are a number of simple, yet very powerful tools available in R when it comes to wrangling your data. Here we'll demonstrate just how easy it is to select, delete, group, and more. Before we begin, you'll first need to have some data in RStudio. If you're following on from the previous guide (<a href="importing_data_the_basics" class="red-link">Importing data: the basics</a>), you're already good to go! Just make sure you have the Project file you created last time open, along with the R script.</p>

<p>If you're jumping in fresh with this guide, simply copy and paste the code below into the Source window. Highlight everything, and then press "Run". This will bring you up to speed, and get some example data imported into RStudio for you:</p>

<pre>
  <code>
    install.packages('tidyverse')   # This installs the 'tidyverse' package.
    library(tidyverse)              # This tells RStudio to load up the tidyverse package.

    example_coffee_data <- "https://raw.githubusercontent.com/adajam89/adajam89.github.io/master/coffee.csv"    # This is the location of some example data of mine that is stored online.
    coffee_data <- read_csv(url(example_coffee_data))   # Import the data.
  </code>
</pre>

<p>First, let's have a little look at the data to see what we're dealing with. To do this, we can type the name of the variable containing the data - "coffee_data" - into the Console, and press Enter:</p>

<img src="images/selecting_data_1a.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>We can see that the dataset isn't too big. The note at the top: "# A tibble: 31 x 8", tells us that our data has 31 rows, and 8 columns. A 'tibble' is the type of structure that contains our data. If you look just below row 10 of the output, you should see the notice "# â€¦ with 21 more rows". This tells us that the entire dataset is not being shown to us here. Instead, RStudio is just giving us a glimpse of the first 10 rows, so as not to clutter the Console. You may be wondering why it doesn't just show us the whole thing...Imagine our data is much longer (e.g. 10,000 rows) - if the Console were to show us the entire dataset each time we typed its' name, it would soon become very annoying to scroll up and down through the Console!</p>

<img src="images/selecting_data_2a.png" alt="Image" class="screenshot-no-border"><br>






To save us having to manually type it into the Console again and again, we can simply add the variable name on its' own line to the end of our script. Now, whenever we run our script, it will automatically show us the final state of the data. Your script and window should look similar to this:</p>


<hr>
<p><b><i>Note:</i></b> If you're using your own data here, it's important to check that it is formatted in the correct way. Specifically, you want each row to represent a unique 'case'. In other words, each participant should get their own row. In our example data, we could think of the different coffee names as individual participants. They each have their own row, and each have their own data toward a number of shared variables, such as 'strength', 'bitterness', and 'price'.</p>
<hr>

 If you want to see the full data, look to your Environment panel (in my screenshot, it's located in the top right) and under "Data", click the "coffee_data" variable. A new tab will open that allows us to browse all rows and columns:</p>

<img src="images/selecting_data_2.png" alt="Image" class="screenshot-no-border"><br><br><br>

<br><h1>Selecting data</h1> 

<p>Click back to your original R script tab. Whilst our example data here doesn't have too many columns, it's not uncommon to have a huge dataset containing many hundreds of columns. Sometimes we just want to look at, or extract, a few columns that are interesting to us. We can do this using 'select'.</p>

<p>Let's imagine we're only interested in the range of coffee prices. We can do this using the following code (paste this into your Console and press enter):</p>

<pre>
  <code>
    coffee_data %>%
      select(price)
  </code>
</pre>

<p>You should be presented with just the 'price' column, on it's own in the Console. Let's break down why that little bit of code gave us this result. First we wrote the name of the variable that stores the data we're interested in (coffee_data). We then use the 'pipe' symbol (%>%) to the right of it. To put it simply, this symbol is telling R that we want to go 'inside' the variable to the left. Once we're 'in', we can give any number of instructions of what we want to do next with the particular data that's inside. In this instance, we just want to select the 'price' column. The result is the 'price' column being shown in the Console - none of the other columns contained in 'coffee_data' are shown, since we didn't name them:</p>

<img src="images/selecting_data_3.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>It's worth noting that this action did not alter the 'coffee_data' dataset. We did not overwrite our 'coffee_data' variable with the current selection, and we haven't lost the rest of the columns. Rather, we just had a one-off peek inside of it at the 'price' column. You can verify this by typing 'coffee_data' into the Console, and seeing that the full data is still intact.</p>

<p>In practice, it's often more useful to create new variables to store the bits we're interested in. If we change the previous code slightly, by assigning the result to a new variable, we can get easy access the range of coffee prices:</p>

<pre>
  <code>
    prices <- coffee_data %>%
      select(price)
  </code>
</pre>

<p>First we write the name of our new variable. It's going to contain all of the coffee prices, so let's name it 'prices'. We then use the "<-" operater. This symbol basically means: store the result of all my workings on the right into the variable name on the left. In this case, the result of our workings is the 'price' column from the 'coffee_data' dataset on its' own. If we type 'prices' into the Console, we can see that our new variable contains just that:</p>

<img src="images/selecting_data_4.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>We can just as easily 'grab' multiple columns and store them together in a new variable. Let's imagine that only 3 columns out of the 'coffee_data' dataset are important to us. We can extract them into a new 'important_data' variable simply by naming all of the columns we want:</p>

<pre>
  <code>
    important_data <- coffee_data %>%
      select(name, size, price)
  </code>
</pre>

<img src="images/selecting_data_5.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>Easy! But what if we have a huge number of columns that we want to keep (e.g. hundreds), and there's only a few we don't want? Obviously we don't want to write the name of every column we want one by one, like above. Instead, we can simply add a minus symbol next to the column names we want to remove:</p>

<pre>
  <code>
    important_data <- coffee_data %>%
      select(-acidity, -bitterness)
  </code>
</pre>

<p>Now, 'important_data' contains the whole of 'coffee_data' - apart from the 'acidity' and 'bitterness' columns:</p> 

<img src="images/selecting_data_6.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>You may be wondering why there isn't just a 'delete column' button in RStudio. This is because it's so easy to extract the data we want into a new variable, that's it not really worth the risk of losing precious data that we may end up needing later on. If there's a column we forgot to add when making the  'important_data' varibale, we can rest assured that it's still contained in the 'coffee_data' dataset and can easily go and grab it.</p>

<p>However, it can be annoying to continuosuly make new variables every time you make a change to your data. Instead, you can overwrite the original variable if you prefer:</p>

<pre>
  <code>
    coffee_data <- coffee_data %>%
      select(-acidity, -bitterness)
  </code>
</pre>

<p>Here, we're telling RStudio that the new variable 'coffee_data' should contain the whole 'coffee_data' dataset, minus the 'acidity' and 'bitterness' columns. Since we used the same name for the new variable as the full dataset, we're effectively overwriting the full dataset with these new changes. Our full dataset, 'coffee_data', no longer contains the 'acidity' and 'bitterness' columns that it originally did:</p>

<img src="images/selecting_data_7.png" alt="Image" class="screenshot-no-border"><br><br><br>

<p>This is still much safer than deleting a column in Excel, since the .csv data file is still fully intact. If for whatever reason we need those removed columns back...we can just import the .csv again and voila!</p> 

I tend to use a mixture of both of the above methods - creating new variables, and overwriting existing ones. For instance, I initially import my data into a variable named 'raw_data', which I leave untouched and can always refer back to. I'll then create a new variable - 'tidy_data' - which I'll continuously overwrite; it will contain everything from 'raw_data', but contain only the columns of interest.</p>



<br><br>


<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--Comments-----------------------------------------------------------> 
<!--------------------------------------------------------------------->
<!--------------------------------------------------------------------->
<script>
/* This code goes ABOVE the main HTML Comment Box code!
 replace the text in the single quotes below to customize labels.*/
hcb_user = {
    /* L10N */
    comments_header : 'Questions and Comments',
    name_label : 'Name...',
    content_label: 'Enter your comment here...',
    submit : 'Comment',
    logout_link : '<img title="log out" src="https://www.htmlcommentbox.com/static/images/door_out.png" alt="[logout]" class="hcb-icon hcb-door-out"/>',
    admin_link : '<img src="https://www.htmlcommentbox.com/static/images/door_in.png" alt="[login]" class="hcb-icon hcb-door-in"/>',
    no_comments_msg: '',
    add:'Add your comment',
    again: 'Post another comment',
    rss:'',
    said:'said:',
    prev_page:'<img src="https://www.htmlcommentbox.com/static/images/arrow_left.png" class="hcb-icon" title="previous page" alt="[prev]"/>',
    next_page:'<img src="https://www.htmlcommentbox.com/static/images/arrow_right.png" class="hcb-icon" title="next page" alt="[next]"/>',
    showing:'Showing',
    to:'to',
    website_label:'website (optional)',
    email_label:'email',
    anonymous:'Anonymous',
    mod_label:'(mod)',
    subscribe:'email me replies',
    add_image:'add image',
    are_you_sure:'Do you want to flag this comment as inappropriate?',
    reply:'<img src="https://www.htmlcommentbox.com/static/images/reply.png"/> reply',
    flag:'<img src="https://www.htmlcommentbox.com/static/images/flag.png"/> flag',
    like:'<img src="https://www.htmlcommentbox.com/static/images/like.png"/> like',
    /* dates */
    days_ago:'days ago',
    hours_ago:'hours ago',
    minutes_ago:'minutes ago',
    within_the_last_minute:'within the last minute',
    msg_thankyou:'Thank you for commenting!',
    msg_approval:'(this comment is not published until approved)',
    msg_approval_required:'Thank you for commenting! Your comment will appear once approved by a moderator.',
    err_bad_html:'Your comment contained bad html.',
    err_bad_email:'Please enter a valid email address.',
    err_too_frequent:'You must wait a few seconds between posting comments.',
    err_comment_empty:'Your comment was not posted because it was empty!',
    err_denied:'Your comment was not accepted.',
    err_unknown:'Your comment was blocked for unknown reasons, please report this.',
    err_spam:'Your comment was detected as spam.',
    err_blocked:'Your comment was blocked by site policy.',
    /* SETTINGS */
    MAX_CHARS: 8192,
    PAGE:'', /* ID of the webpage to show comments for. defaults to the webpage the user is currently visiting. */
    ON_COMMENT: function(){}, /* Function to call after commenting. */
    RELATIVE_DATES:true /* show dates in the form "X hours ago." etc. */
};
</script>
<!-- done customizing labels of htmlcommentbox.com -->
<!-- begin wwww.htmlcommentbox.com -->
 <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">Comment Form</a> is loading comments...</div>
 <link rel="stylesheet" type="text/css" href="https://www.htmlcommentbox.com/static/skins/bootstrap/twitter-bootstrap.css?v=0" />
 <script type="text/javascript" id="hcb"> /*<!--*/ if(!window.hcb_user){hcb_user={};} (function(){var s=document.createElement("script"), l=hcb_user.PAGE || (""+window.location).replace(/'/g,"%27"), h="https://www.htmlcommentbox.com";s.setAttribute("type","text/javascript");s.setAttribute("src", h+"/jread?page="+encodeURIComponent(l).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24cN5QsIMggP%2Fz8riZ7KvEy1"+"&opts=16862&num=10&ts=1597230251795");if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})(); /*-->*/ </script>


<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--More guides (bit on the right)-------------------------------------> 
<!--------------------------------------------------------------------->
<!--------------------------------------------------------------------->
<div class="pt-5">
<div class="section-title">
</div>
<div class="comment-form-wrap pt-5">
<div class="section-title">
</div></div></div></div>
<div class="col-lg-3 ml-auto">
<div class="section-title">
<h2>More guides:</h2>
</div>
                                          
<div class="trend-entry d-flex">
<div class="number align-self-start">01</div>
<div class="trend-contents">
<h2><a href="importing_data_the_basics.html">Importing data: the basics.</a></h2>
<div class="post-meta">
<span class="d-block">In: <a href="guides.html">Guides</a></span>
<span class="date-read">August 14<span class="mx-1">&bullet;</span>10-min read</span>
</div></div></div>
                                          
<div class="trend-entry d-flex">
<div class="number align-self-start">02</div>
<div class="trend-contents-current">
<h2><a href="selecting_data.html">Selecting data.</a></h2>
<div class="post-meta-current">
<span class="d-block">In: <a href="guides.html">Guides</a></span>
<span class="date-read">August 17<span class="mx-1">&bullet;</span>15-min read</span>
</div></div></div>
                                              
<p><a href="https://adajam89.github.io/guides.html" class="more">See All Guides<span class="icon-keyboard_arrow_right"></span></a></p></div></div></div></div>
                                          
<footer> <small>&copy; Copyright 2020, Jamie Adams</small> </footer></div>
                                          
                           
<!--------------------------------------------------------------------->              
<!--------------------------------------------------------------------->
<!--Loader-------------------------------------------------------------> 
<!--------------------------------------------------------------------->
<!--------------------------------------------------------------------->

<div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#ff5e15"/></svg></div>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/jquery-migrate-3.0.1.min.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.stellar.min.js"></script>
<script src="js/jquery.countdown.min.js"></script>
<script src="js/bootstrap-datepicker.min.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/aos.js"></script>
<script src="js/jquery.fancybox.min.js"></script>
<script src="js/jquery.sticky.js"></script>
<script src="js/jquery.mb.YTPlayer.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>